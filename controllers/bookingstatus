<?php
session_start();
require_once '../config/db.php';

if (!isset($_SESSION['user_id'])) {
    die('Unauthorized');
}

$id = $_GET['id'];
$action = $_GET['action'];

if (!in_array($action, ['accepted','rejected'])) {
    die('Invalid action');
}

$sql = "UPDATE bookings SET status = ? WHERE id = ?";
$stmt = mysqli_prepare($conn, $sql);
mysqli_stmt_bind_param($stmt, "si", $action, $id);
mysqli_stmt_execute($stmt);

header("Location: ../views/coach/requests.php");
exit;
